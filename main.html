<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Home</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body style="background-color: #fcf8fa">
        <nav class="navbar navbar-expand-lg" style="background-color: #f30067">
                <a class="navbar-brand" href="#" style="color: black"><span style="color:white"><b>Apna Team Aayega</b></span></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                  <ul class="navbar-nav">
                    <li class="nav-item active">
                      <button class="btn btn-primary" style="background-color:#f30067;border:transparent" onclick="check()"><b>SubmitQ</b></button>
                    </li>
                    <li class="nav-item dropdown" style="margin-left: 340%">
                      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: black" >
                        <img src="images.png" style="height: 20px; width: 20px; margin-right: 8%"><span style="color:white" id="uname">username</span>
                      </a>
                      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" class="dropdown-divider">
                            <button class="btn btn-light" onclick="openProfile()"><div class="row"><img src="propic.png" style="width: 20px; height: 20px">Profile</div></button>
                            <div class="dropdown-divider"></div></a>
                        <a class="dropdown-item" class="dropdown-divider"><div class="row"><img src="settings.png" style="width: 20px; height: 20px"><span> Settings</span></div>
                            <div class="dropdown-divider"></div></a>
                        <a class="dropdown-item" class="dropdown-divider" href="index.html"><div class="row"><img src="logout.png" style="width: 20px; height: 20px">Logout</div>
                            <div class="dropdown-divider"></div></a>
                      </div>
                    </li>
                  </ul>
                </div>
              </nav>
              <div class="container-fluid">
                  <div class="row">
                      <div class="col-lg-2" id="tagss" style="margin-top: 2%">
                            <div class="row">
                                    <button type="button" class="btn btn-primary" id="Adhoc"style="background-color: #222831;color:white;border: transparent; width:200%"><b>Tags</b></button>
                            </div>
                            <div class="dropdown-divider" style="color:black"></div>
                            <div class="dropdown-divider" style="color:black"></div>
                            <div class="row">
                                    <button type="button" class="btn btn-primary" id="Adhoc"style="background-color: #f30067;color:white;margin-top: 4%;border: transparent;width:150%" onclick="getTag('Adhoc')"><b>Adhoc</b></button>
                            </div>
                            <div class="row">
                                    <button type="button" class="btn btn-primary" id="Linkedlist" style="background-color: #f30067;color:white;border: transparent;margin-top: 4%;width:150%" onclick="getTag('LinkedList')"><b>Linked List</b></button>
                            </div>
                            <div class="row">
                                    <button type="button" class="btn btn-primary" id="Trees"style="background-color: #f30067;color:white;border: transparent;margin-top: 4%;width:150%" onclick="getTag('Trees')"><b>Trees</b></button>
                            </div>
                            <div class="row">   
                                    <button type="button" class="btn btn-primary"id="Graph" style="background-color: #f30067;color:white;border: transparent;margin-top: 4%;width:150%" onclick="getTag('Graph')"><b>Graph</b></button>
                            </div>
                            <div class="row">
                                    <button type="button" class="btn btn-primary" id="DP" style="background-color: #f30067;color:white;border: transparent;margin-top: 4%;width:150%" onclick="getTag('DP')"><b>DP</b></button>
                             </div>
                         
                      </div>
                      <div class="col-lg-7 offset-lg-1" class="container-style" id="getQuestion">
                        
                                 
                      </div>
                  </div>
              </div>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>  
        
        <script>
            function openProfile(){
                console.log("helllll")
                window.open('userProfile.html',"_self");
            }





            
            let data;
            
            axios.get('http://localhost:3000/question')
            .then(res=>{
                console.log(res)
                data=res.data;
                var i=0;
                for(i=0;i<res.data.length;i++)
                    {   
                        
                        document.getElementById('getQuestion').innerHTML+=`<div class="jumbotron" style="margin-top: 2%">
                                    <h1 class="display-4">Q) <span>${res.data[i].questionName}</span></h1>
                                    <p class="lead">CODE : <span>${res.data[i].questionCode}</span></p>
                                    <hr class="my-4">
                                    <p>Tags : <span id="${i}"></span></p>
                                    <a class="btn btn-primary btn-lg" href="#" role="button" onclick="openAnswers(${i})" style="background-color:#f30067;border:transparent">Solutions</a>
                            </div>`
                        
                        for(let j=0;j<res.data[i].tags.length;j++)
                            {
                                document.getElementById(`${i}`).innerHTML+=` ${res.data[i].tags[j]}`
                        }
                    }
            })


            function check(){
                if(localStorage.getItem('email')==='admin@gmail.com')
                {
                    window.open('submitQuestion.html',"_self")
                }
                else
                {
                    alert("Bro,you are not an adminðŸ–•ðŸ»ðŸ–•ðŸ»ðŸ–•ðŸ»")
                }
            }


            function getTag(tag){
                    localStorage.setItem('tag',tag);
                    window.open("tagPage.html","_self");




                // axios.get(`http:localhost:3000/question/tags/${tag}`)
                // .then(res=>{

                // })
            }



            function openAnswers(i){
                localStorage.setItem('questionCode',data[i].questionCode)
                window.open('answerPage.html',"_self")
            }
            document.getElementById('uname').innerHTML=localStorage.getItem('email');
        </script>
</body>
</html>